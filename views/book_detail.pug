extends layout

block content
   h1 📖 #{book.title}
   
   div.card
      div.card-header
         h3 📋 Book Information
      div.row
         div.col-md-8
            p 
               strong ✍️ Author: 
               a(href=book.author.url) #{book.author.name}
            p 
               strong 📝 Summary: 
               | #{book.summary}
            p 
               strong 📚 ISBN: 
               | #{book.isbn}
            p 
               strong 🏷️ Genres: 
               each val, index in book.genre
                  a(href=val.url) #{val.name}
                  if index < (book.genre.length - 1)
                     | , 
         
         div.col-md-4
            div.card
               div.card-header
                  h4 🔧 Actions
               a.btn.btn-secondary.mb-2(href=book.url+"/update") ✏️ Edit Book
               br
               a.btn.btn-danger(href=book.url+"/delete") 🗑️ Delete Book

   div.card
      div.card-header
         h3 📚 Available Copies
      if book_instances && book_instances.length > 0
         each val in book_instances
            div.card.mb-3
               div.row
                  div.col-md-3
                     if val.status=="Available"
                        span.status-available ✅ #{val.status}
                     else if val.status=="Maintenance"
                        span.status-maintenance 🔧 #{val.status}
                     else
                        span.status-loaned 📅 #{val.status}
                  div.col-md-6
                     p 
                        strong 🏢 Imprint: 
                        | #{val.imprint}
                     if val.status!="Available"
                        p 
                           strong 📅 Due back: 
                           | #{val.due_back}
                  div.col-md-3
                     p 
                        strong 🆔 ID: 
                        a(href=val.url) #{val._id}
      else
         div.alert.alert-warning
            strong ⚠️ No Copies Available
            p There are no copies of this book in the library.
            a.btn.btn-success(href="/catalog/bookinstance/create") ➕ Add New Copy
